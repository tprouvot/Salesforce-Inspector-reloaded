export class TransportRegistry{#a=[];#b={};getTransportTypes(){return this.#a.slice(0)}add(t,s,e){let r=!1;for(let p=0;p<this.#a.length;++p)if(this.#a[p]===t){r=!0;break}return r||("number"!=typeof e?this.#a.push(t):this.#a.splice(e,0,t),this.#b[t]=s),!r}find(t){for(let s=0;s<this.#a.length;++s)if(this.#a[s]===t)return this.#b[t];return null}negotiateTransport(t,s,e,r){for(let p=0;p<this.#a.length;++p){let i=this.#a[p];for(let n=0;n<t.length;++n)if(i===t[n]){let h=this.#b[i];if(!0===h.accept(s,e,r))return h}}return null}clear(){this.#a=[],this.#b={}}reset(t){for(let s=0;s<this.#a.length;++s)this.#b[this.#a[s]].reset(t)}findTransportTypes(t,s,e){let r=[];for(let p=0;p<this.#a.length;++p){let i=this.#a[p];!0===this.#b[i].accept(t,s,e)&&r.push(i)}return r}remove(t){for(let s=0;s<this.#a.length;++s)if(this.#a[s]===t){this.#a.splice(s,1);let e=this.#b[t];return delete this.#b[t],e}return null}}
